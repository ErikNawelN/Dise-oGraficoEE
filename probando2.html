<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Models And Price</title>
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/2c36e9b7b1.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="probando.css" />
  </head>

  <body>
    <!-- _________________ CODIGO HTML _______________ -->

    <!-- _________________ Contenedor donde están los selects: _______________ -->
    <div class="Cont_Elegir_Modelo">
      <!-- _________________ Select para Para Personalizar la base: _______________ -->
      <div class="cont_principal_select">
        <h3 class="titlecontps">Escoja la tela para la base</h3>

        <div class="contenedor" id="contenedor1">
          <form action="">
            <div class="selectbox">
              <div class="select" id="select">
                <div class="contenido-select">
                  <h4 class="titulo" id="titulo_select">Tela para la base:</h4>
                  <p class="descripcion">Personalizar la base</p>
                </div>
                <i class="fas fa-angle-down"></i>
              </div>

              <!-- _________________ Contiene todas las opciones: _______________ -->
              <div class="opciones" id="opciones">
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/DASHAN_rojo.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Dashan 1</h1>
                      <p class="descripcion">Diseño terciopelado rojo.</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/DASHAN_morado.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Dashan 2</h1>
                      <p class="descripcion">Morado, diseño - botones</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/terciopelo_morado.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo 1</h1>
                      <p class="descripcion">Diseño terciopelo morado</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/terciopelo_rojo.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo 2</h1>
                      <p class="descripcion">Diseño terciopelo rojo</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Tejida_Marron.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Bordada</h1>
                      <p class="descripcion">Tela diseño tejido</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/patrones_antecedentes.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Patrones antecedentes</h1>
                      <p class="descripcion">Diseño azul, antecedentes.</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Terciopelo_especial.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo especial</h1>
                      <p class="descripcion">Terciopelado special edition.</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Punto_algodon.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Punto algodon</h1>
                      <p class="descripcion">Diseño puntada algodon.</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Estampado_Rojo.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Estampado rojo</h1>
                      <p class="descripcion">Diseño estampado color rojo.</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/disenioflores.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Diseño flores</h1>
                      <p class="descripcion">Diseño flores, blanco - rojo.</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/cuadrosrojos.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Cuadros rojos</h1>
                      <p class="descripcion">Diseño cuadritos, color rojo.</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/diamantes.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Diamantes</h1>
                      <p class="descripcion">Diseño unico, patron diamante.</p>
                    </div>
                  </div>
                </a>

                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/zigzag_redondeado.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Zigzag redondeado</h1>
                      <p class="descripcion">Forma de Zigzag redondeado.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img
                      src="images/zigzag_puntiagudo_multicolor.jfif"
                      alt=""
                    />
                    <div class="textos">
                      <h1 class="titulo">Zigzag puntiagudo</h1>
                      <p class="descripcion">Forma Zigzag puntiagudo.</p>
                    </div>
                  </div>
                </a>
              </div>
            </div>

            <input type="hidden" name="pais" id="inputSelect" value="" />
            <input
              type="hidden"
              name="PCojin"
              id="inputSelectPerFondo"
              value="0"
            />
          </form>
        </div>
      </div>

      <!-- _________________ Select para Para Personalizar el fondo y espaldar: _______________ -->
      <div class="cont_principal_select">
        <h3 class="titlecontps">Escoja la tela para el fondo y espaldar</h3>
        <div class="contenedor" id="contenedor2">
          <form action="">
            <div class="selectbox">
              <div class="select" id="select">
                <div class="contenido-select">
                  <h4 class="titulo" id="titulo_select">
                    Tela para fondo y espaldar:
                  </h4>
                  <p class="descripcion">Personalizar la base</p>
                </div>
                <i class="fas fa-angle-down"></i>
              </div>

              <div class="opciones" id="opciones">
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Terciopelo_especial.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo especial</h1>
                      <p class="descripcion">Terciopelado special edition.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Punto_algodon.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Punto algodon</h1>
                      <p class="descripcion">Diseño puntada algodon.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Estampado_Rojo.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Estampado rojo</h1>
                      <p class="descripcion">Diseño estampado color rojo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/DASHAN_rojo.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Dashan 1</h1>
                      <p class="descripcion">Diseño terciopelado rojo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/patrones_antecedentes.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Patrones antecedentes</h1>
                      <p class="descripcion">Diseño azul, antecedentes.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/DASHAN_morado.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Dashan 2</h1>
                      <p class="descripcion">Morado, diseño - botones</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/terciopelo_morado.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo 1</h1>
                      <p class="descripcion">Diseño terciopelo morado</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/terciopelo_rojo.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo 2</h1>
                      <p class="descripcion">Diseño terciopelo rojo</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Tejida_Marron.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Bordada</h1>
                      <p class="descripcion">Tela diseño tejido</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/disenioflores.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Diseño flores</h1>
                      <p class="descripcion">Diseño flores, blanco - rojo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/cuadrosrojos.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Cuadros rojos</h1>
                      <p class="descripcion">Diseño cuadritos, color rojo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/diamantes.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Diamantes</h1>
                      <p class="descripcion">Diseño unico, patron diamante.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/zigzag_redondeado.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Zigzag redondeado</h1>
                      <p class="descripcion">Forma de Zigzag redondeado.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img
                      src="images/zigzag_puntiagudo_multicolor.jfif"
                      alt=""
                    />
                    <div class="textos">
                      <h1 class="titulo">Zigzag puntiagudo</h1>
                      <p class="descripcion">Forma Zigzag puntiagudo.</p>
                    </div>
                  </div>
                </a>
              </div>
            </div>

            <input type="hidden" name="pais" id="inputSelect" value="" />
            <input
              type="hidden"
              name="PCojin"
              id="inputSelectPerFyE"
              value="0"
            />
          </form>
        </div>
      </div>

      <!-- _________________ Select para Para Personalizar los cojines: _______________ -->
      <div class="cont_principal_select">
        <h3 class="titlecontps">Escoja la tela para los cojines</h3>
        <div class="contenedor" id="contenedor3">
          <form action="">
            <div class="selectbox">
              <div class="select" id="select">
                <div class="contenido-select">
                  <h4 class="titulo" id="titulo_select">Tela para cogines</h4>
                  <p class="descripcion">Personalizar los cojines</p>
                </div>
                <i class="fas fa-angle-down"></i>
              </div>

              <div class="opciones" id="opciones">
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/disenioflores.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Diseño flores</h1>
                      <p class="descripcion">Diseño flores, blanco - rojo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/cuadrosrojos.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Cuadros rojos</h1>
                      <p class="descripcion">Diseño cuadritos, color rojo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/diamantes.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Diamantes</h1>
                      <p class="descripcion">Diseño unico, patron diamante.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/zigzag_redondeado.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Zigzag redondeado</h1>
                      <p class="descripcion">Forma de Zigzag redondeado.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img
                      src="images/zigzag_puntiagudo_multicolor.jfif"
                      alt=""
                    />
                    <div class="textos">
                      <h1 class="titulo">Zigzag puntiagudo</h1>
                      <p class="descripcion">Forma Zigzag puntiagudo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Terciopelo_especial.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo especial</h1>
                      <p class="descripcion">Terciopelado special edition.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Punto_algodon.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Punto algodon</h1>
                      <p class="descripcion">Diseño puntada algodon.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Estampado_Rojo.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Estampado rojo</h1>
                      <p class="descripcion">Diseño estampado color rojo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/DASHAN_rojo.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Dashan 1</h1>
                      <p class="descripcion">Diseño terciopelado rojo.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/patrones_antecedentes.jpg" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Patrones antecedentes</h1>
                      <p class="descripcion">Diseño azul, antecedentes.</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/DASHAN_morado.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Dashan 2</h1>
                      <p class="descripcion">Morado, diseño - botones</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/terciopelo_morado.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo 1</h1>
                      <p class="descripcion">Diseño terciopelo morado</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/terciopelo_rojo.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Terciopelo 2</h1>
                      <p class="descripcion">Diseño terciopelo rojo</p>
                    </div>
                  </div>
                </a>
                <a href="#" class="opcion">
                  <div class="contenido-opcion">
                    <img src="images/Tejida_Marron.jfif" alt="" />
                    <div class="textos">
                      <h1 class="titulo">Bordada</h1>
                      <p class="descripcion">Tela diseño tejido</p>
                    </div>
                  </div>
                </a>
              </div>
            </div>

            <input type="hidden" name="pais" id="inputSelect" value="" />
            <input
              type="hidden"
              name="PCojin"
              id="inputSelectPerCojin"
              value="0"
            />
          </form>
        </div>
      </div>

      <div class="inputColor">
        <center><input class="colorInput" type="color" /></center>
      </div>

      <div class="divCantidadCojines">
        <center>
          <input
            type="radio"
            value="1"
            name="cantidadCojines"
            class="inputCantidadCojines"
          /><span>1</span>
          <input
            type="radio"
            value="2"
            name="cantidadCojines"
            class="inputCantidadCojines"
          /><span>2</span>
        </center>
      </div>
    </div>

    <script src="js/three.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/OBJLoader.js"></script>

    <script>
      const scene = new THREE.Scene();
      scene.background = new THREE.Color("white");
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );

      const renderer = new THREE.WebGLRenderer();
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);

      const light = new THREE.AmbientLight(0x404040, 2); // soft white light
      scene.add(light);

      //Desde aqui
      const geometry = new THREE.BoxGeometry();
      const material = new THREE.MeshBasicMaterial({
        color: 0x00ff00,
        wireframe: true,
      });
      const cube = new THREE.Mesh(geometry, material);
      //scene.add( cube );

      //Suelo con textura de losa:
      const textura = new THREE.TextureLoader().load("images/losa4.jpg");
      textura.wrapS = THREE.RepeatWrapping;
      textura.wrapT = THREE.RepeatWrapping;
      const geometrySuelo = new THREE.PlaneGeometry(60, 45);
      const materialSuelo = new THREE.MeshLambertMaterial({
        map: textura,
        side: THREE.DoubleSide,
      });
      const Suelo = new THREE.Mesh(geometrySuelo, materialSuelo);
      scene.add(Suelo);
      Suelo.receiveShadow = true;
      Suelo.rotation.x = Math.PI / 2;
      Suelo.position.y = -2.1;

      function cambiarTextura(image) {
        const textura = new THREE.TextureLoader().load("images/" + image);
        textura.wrapS = THREE.RepeatWrapping;
        textura.wrapT = THREE.RepeatWrapping;

        return textura;
      }

      // VARIABLES Y COSAS NECESARIAS PARA MANEJAR EL PRECIO:
      var precio = 50;
      var cantidadCojines = 1;
      var precioPerCojines = 0;

      function RefrescarPrecio() {
        const visualPrecio = document.querySelector(".visualPrecio");
        visualPrecio.innerText = "$" + precio;
      }

      //Se carga el modelo:
      // instantiate a loader --------------------------------------------------
      const loader3 = new THREE.OBJLoader();
      // load a resource
      loader3.load(
        // resource URL
        "Modelos_Para_Practica/sofaA1.obj",
        // called when resource is loaded
        function (object) {
          console.log(object);
          scene.add(object);

          object.scale.x = 0.18;
          object.scale.y = 0.18;
          object.scale.z = 0.18;

          object.position.y = -2.1;

          /* 0: Base:-----------*/ object.children[0].material =
            new THREE.MeshPhysicalMaterial({ color: "white" });
          /* 2: EspaldarYfondo--*/ object.children[1].material =
            new THREE.MeshPhysicalMaterial({ color: "black" });
          /* 3: Cogin:----------*/ object.children[2].material =
            new THREE.MeshPhysicalMaterial({ color: "#808080" });
          /* 4: Patas:----------*/ object.children[3].material =
            new THREE.MeshPhysicalMaterial({ color: "yellow" });
          /* 6: Costura:--------*/ object.children[4].material =
            new THREE.MeshPhysicalMaterial({ color: "white" });

          //Nuevo cojin y su funcionalidad: ----------------------------- :
          var newObject = object.children[2].clone();
          scene.add(newObject);
          newObject.scale.x = 0.17;
          newObject.scale.y = 0.17;
          newObject.scale.z = 0.17;

          newObject.position.x = 1;
          newObject.position.z = -5;
          newObject.position.y = 2;

          newObject.rotation.y = Math.PI / 1;
          newObject.rotation.x = -Math.PI / 0.6;

          newObject.material = new THREE.MeshPhysicalMaterial({
            color: "black",
          });
          newObject.visible = false;

          const inputsRadioCojin = document.querySelectorAll(
            ".inputCantidadCojines"
          );

          function handleInputsCojin(event) {
            const input = this;
            if (this.value == 2) {
              /*
						if (newObject.visible == false) {
							precio = precio + 10;
							RefrescarPrecio();
						}
						else {
							precio = precio;
							RefrescarPrecio();
						}
						*/
              cantidadCojines = 2;
              newObject.visible = true;
            } else {
              /*
						if (newObject.visible == false) { // <- Si el otro cojin no estaba visible no hay que aumentar el precio
							precio = precio; //Precio se mantiene
						}
						else {
							if (precio != 0) {
								precio = precio - 10;
							}
							RefrescarPrecio();
						}
						*/
              cantidadCojines = 1;
              newObject.visible = false;
            }
          }

          inputsRadioCojin.forEach((input) => {
            input.addEventListener("click", handleInputsCojin);
          });

          // ------------>>>>>>>>>>> FUNCIONALIDAD SELECT: <<<<<<<<<<<<<<------------------- contenedor1
          const inputColor = document.querySelector(".colorInput");
          inputColor.addEventListener("change", cambiarColorPatas);

          function cambiarColorPatas(event) {
            /* 4: Patas:----------*/ object.children[3].material =
              new THREE.MeshPhysicalMaterial({
                color: inputColor.value,
                side: THREE.DoubleSide,
              });
          }
          // ----------------------------------------------------------------------------------

          // ------------>>>>>>>>>>> FUNCIONALIDAD SELECT: <<<<<<<<<<<<<<------------------- contenedor1
          const contenedor1 = document.querySelector("#contenedor1");
          const select1 = contenedor1.querySelector("#select");
          const opciones1 = contenedor1.querySelector("#opciones");
          const contenidoSelect1 = contenedor1.querySelector(
            "#select .contenido-select"
          );
          const hiddenInput1 = contenedor1.querySelector("#inputSelect");
          const inputSelectPerFondo = contenedor1.querySelector(
            "#inputSelectPerFondo"
          );
          const tituloSelect1 = contenedor1.querySelector("#titulo_select");
          //inputSelectPerFondo
          contenedor1
            .querySelectorAll("#opciones > .opcion")
            .forEach((opcion) => {
              opcion.addEventListener("click", (e) => {
                e.preventDefault();

                const optionSelecionada =
                  e.currentTarget.querySelector(".titulo").innerText;

                contenidoSelect1.innerHTML = e.currentTarget.innerHTML;
                console.log(optionSelecionada);
                select1.classList.toggle("active");
                opciones1.classList.toggle("active");

                const precioAnterior = parseInt(inputSelectPerFondo.value);

                const opcionAnterior = hiddenInput1.value;
                hiddenInput1.value =
                  e.currentTarget.querySelector(".titulo").innerText;
                const opcionNueva = hiddenInput1.value;

                if (optionSelecionada == "Dashan 2") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("DASHAN_morado.jfif"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 30;
                } else if (optionSelecionada == "Dashan 1") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("DASHAN_rojo.jfif"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 35;
                } else if (optionSelecionada == "Terciopelo 1") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("terciopelo_morado.jfif"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 40;
                } else if (optionSelecionada == "Terciopelo 2") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("terciopelo_rojo.jfif"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 45;
                } else if (optionSelecionada == "Bordada") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Tejida_Marron.jfif"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 50;
                }
                if (optionSelecionada == "Punto algodon") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Punto_algodon.jpg"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 55;
                } else if (optionSelecionada == "Terciopelo especial") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Terciopelo_especial.jpg"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 60;
                } else if (optionSelecionada == "Estampado rojo") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Estampado_Rojo.jpg"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 65;
                } else if (optionSelecionada == "Patrones antecedentes") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("patrones_antecedentes.jpg"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 70;
                } else if (optionSelecionada == "Diseño flores") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("disenioflores.jpg"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 75;
                } else if (optionSelecionada == "Cuadros rojos") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("cuadrosrojos.jfif"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 80;
                } else if (optionSelecionada == "Diamantes") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("diamantes.jfif"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 85;
                } else if (optionSelecionada == "Zigzag redondeado") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("zigzag_redondeado.jpg"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 90;
                } else if (optionSelecionada == "Zigzag puntiagudo") {
                  /* 0: Base:-----------*/ object.children[0].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("zigzag_puntiagudo_multicolor.jfif"),
                      side: THREE.DoubleSide,
                    });
                  inputSelectPerFondo.value = 95;
                }
                const precioNuevo = parseInt(inputSelectPerFondo.value);

                if (opcionAnterior != opcionNueva) {
                  precio = precio + parseInt(precioNuevo);
                  precio = precio - parseInt(precioAnterior);
                  RefrescarPrecio();
                } else {
                  precio = precio;
                  RefrescarPrecio();
                }
              });
            });

          select1.addEventListener("click", () => {
            select1.classList.toggle("active");
            opciones1.classList.toggle("active");
          });
          // ----------------------------------------------------------------------------------

          // ------------>>>>>>>>>>> FUNCIONALIDAD SELECT: <<<<<<<<<<<<<<------------------- contenedor2
          const contenedor2 = document.querySelector("#contenedor2");
          const select2 = contenedor2.querySelector("#select");
          const opciones2 = contenedor2.querySelector("#opciones");
          const contenidoSelect2 = contenedor2.querySelector(
            "#select .contenido-select"
          );
          const hiddenInput2 = contenedor2.querySelector("#inputSelect");
          const hiddenInputPerFyE =
            contenedor2.querySelector("#inputSelectPerFyE");
          const tituloSelect2 = contenedor2.querySelector("#titulo_select");

          contenedor2
            .querySelectorAll("#opciones > .opcion")
            .forEach((opcion) => {
              opcion.addEventListener("click", (e) => {
                e.preventDefault();

                const optionSelecionada =
                  e.currentTarget.querySelector(".titulo").innerText;

                contenidoSelect2.innerHTML = e.currentTarget.innerHTML;
                select2.classList.toggle("active");
                opciones2.classList.toggle("active");

                const precioAnterior = parseInt(hiddenInputPerFyE.value);

                const opcionAnterior = hiddenInput2.value;
                hiddenInput2.value =
                  e.currentTarget.querySelector(".titulo").innerText;
                const opcionNueva = hiddenInput2.value;

                if (optionSelecionada == "Punto algodon") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Punto_algodon.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 15;
                } else if (optionSelecionada == "Terciopelo especial") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Terciopelo_especial.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 20;
                } else if (optionSelecionada == "Estampado rojo") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Estampado_Rojo.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 25;
                } else if (optionSelecionada == "Dashan 2") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("DASHAN_morado.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 30;
                } else if (optionSelecionada == "Dashan 1") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("DASHAN_rojo.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 35;
                } else if (optionSelecionada == "Terciopelo 1") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("terciopelo_morado.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 40;
                } else if (optionSelecionada == "Terciopelo 2") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("terciopelo_rojo.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 45;
                } else if (optionSelecionada == "Bordada") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Tejida_Marron.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 50;
                } else if (optionSelecionada == "Patrones antecedentes") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("patrones_antecedentes.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 55;
                } else if (optionSelecionada == "Diseño flores") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("disenioflores.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 60;
                } else if (optionSelecionada == "Cuadros rojos") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("cuadrosrojos.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 65;
                } else if (optionSelecionada == "Diamantes") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("diamantes.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 70;
                } else if (optionSelecionada == "Zigzag redondeado") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("zigzag_redondeado.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 75;
                } else if (optionSelecionada == "Zigzag puntiagudo") {
                  /* 2: EspaldarYfondo--*/ object.children[1].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("zigzag_puntiagudo_multicolor.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerFyE.value = 80;
                }
                const precioNuevo = parseInt(hiddenInputPerFyE.value);

                if (opcionAnterior != opcionNueva) {
                  precio = precio + parseInt(precioNuevo);
                  precio = precio - parseInt(precioAnterior);
                  RefrescarPrecio();
                } else {
                  precio = precio;
                  RefrescarPrecio();
                }
              });
            });

          select2.addEventListener("click", () => {
            select2.classList.toggle("active");
            opciones2.classList.toggle("active");
          });
          // ----------------------------------------------------------------------------------

          // ------------>>>>>>>>>>> FUNCIONALIDAD SELECT: <<<<<<<<<<<<<<------------------- contenedor2
          const contenedor3 = document.querySelector("#contenedor3");
          const select3 = contenedor3.querySelector("#select");
          const opciones3 = contenedor3.querySelector("#opciones");
          const contenidoSelect3 = contenedor3.querySelector(
            "#select .contenido-select"
          );
          const hiddenInput3 = contenedor3.querySelector("#inputSelect");
          const hiddenInputPerCojin = contenedor3.querySelector(
            "#inputSelectPerCojin"
          );
          const tituloSelect3 = contenedor3.querySelector("#titulo_select");

          contenedor3
            .querySelectorAll("#opciones > .opcion")
            .forEach((opcion) => {
              opcion.addEventListener("click", (e) => {
                e.preventDefault();

                const optionSelecionada =
                  e.currentTarget.querySelector(".titulo").innerText;

                contenidoSelect3.innerHTML = e.currentTarget.innerHTML;
                select3.classList.toggle("active");
                opciones3.classList.toggle("active");

                const precioAnterior =
                  parseInt(hiddenInputPerCojin.value) * cantidadCojines;

                const opcionAnterior = hiddenInput3.value;
                hiddenInput3.value =
                  e.currentTarget.querySelector(".titulo").innerText;
                const opcionNueva = hiddenInput3.value;

                if (optionSelecionada == "Punto algodon") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Punto_algodon.jpg"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Punto_algodon.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 10;
                } else if (optionSelecionada == "Diseño flores") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("disenioflores.jpg"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("disenioflores.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 20;
                } else if (optionSelecionada == "Cuadros rojos") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("cuadrosrojos.jfif"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("cuadrosrojos.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 30;
                } else if (optionSelecionada == "Diamantes") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("diamantes.jfif"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("diamantes.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 40;
                } else if (optionSelecionada == "Zigzag redondeado") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("zigzag_redondeado.jpg"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("zigzag_redondeado.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 50;
                } else if (optionSelecionada == "Zigzag puntiagudo") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("zigzag_puntiagudo_multicolor.jfif"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("zigzag_puntiagudo_multicolor.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 60;
                } else if (optionSelecionada == "Terciopelo especial") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Terciopelo_especial.jpg"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Terciopelo_especial.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 70;
                } else if (optionSelecionada == "Estampado rojo") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Estampado_Rojo.jpg"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Estampado_Rojo.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 80;
                } else if (optionSelecionada == "Dashan 2") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("DASHAN_morado.jfif"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("DASHAN_morado.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 85;
                } else if (optionSelecionada == "Dashan 1") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("DASHAN_rojo.jfif"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("DASHAN_rojo.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 65;
                } else if (optionSelecionada == "Terciopelo 1") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("terciopelo_morado.jfif"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("terciopelo_morado.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 55;
                } else if (optionSelecionada == "Terciopelo 2") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("terciopelo_rojo.jfif"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("terciopelo_rojo.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 45;
                } else if (optionSelecionada == "Bordada") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Tejida_Marron.jfif"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("Tejida_Marron.jfif"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 15;
                } else if (optionSelecionada == "Patrones antecedentes") {
                  /* 3: Cogin:----------*/ object.children[2].material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("patrones_antecedentes.jpg"),
                      side: THREE.DoubleSide,
                    });
                  /*    Cogin 2:--------*/ newObject.material =
                    new THREE.MeshPhysicalMaterial({
                      map: cambiarTextura("patrones_antecedentes.jpg"),
                      side: THREE.DoubleSide,
                    });
                  hiddenInputPerCojin.value = 95;
                }
                const precioNuevo =
                  parseInt(hiddenInputPerCojin.value) * cantidadCojines;

                if (opcionAnterior != opcionNueva) {
                  precio = precio + parseInt(precioNuevo);
                  precio = precio - parseInt(precioAnterior);
                  RefrescarPrecio();
                } else {
                  precio = precio;
                  RefrescarPrecio();
                }

                //handleInputsCojin(opcionAnterior, opcionNueva, precioAnterior, precioNuevo);
              });
            });

          select3.addEventListener("click", () => {
            select3.classList.toggle("active");
            opciones3.classList.toggle("active");
          });
          // ---------------------------------------------------------------------------------- zigzag_puntiagudo_multicolor.jfif
        },
        // called when loading is in progresses
        function (xhr) {
          console.log((xhr.loaded / xhr.total) * 100 + "% loaded");
        },
        // called when loading has errors
        function (error) {
          console.log("An error happened");
        }
      );

      const controls = new THREE.OrbitControls(camera, renderer.domElement);

      camera.position.z = 5;

      //hasta aqui lo unico que se puede modificars

      function animate() {
        requestAnimationFrame(animate);

        renderer.render(scene, camera);
      }

      animate();
    </script>
  </body>
</html>
